<Tool Name="CashFlowFeeModel">
    <Actions>
    <Action ActionCode="ValueAddedTax_Fee_#Id#" ActionDisplayName="增值税" FunctionName="RunManagedMethodByPath" SequenceNo="1">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ValueAddedTax_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ValueAddedTax_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="AssetService_Fee_#Id#" ActionDisplayName="资产服务机构报酬" FunctionName="RunManagedMethodByPath" SequenceNo="2">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_AssetService_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetService_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
     </Action>
      <Action ActionCode="Custodian_Fee_#Id#" ActionDisplayName="保管机构报酬" FunctionName="RunManagedMethodByPath" SequenceNo="3">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Custodian_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Custodian_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action> 
      <Action ActionCode="TrusteeAccount_Fee_#Id#" ActionDisplayName="托管机构报酬" FunctionName="RunManagedMethodByPath" SequenceNo="4">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeAccount_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeAccount_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="ScrutinyAccount_Fee_#Id#" ActionDisplayName="监管机构报酬" FunctionName="RunManagedMethodByPath" SequenceNo="5">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_ScrutinyAccount_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="ScrutinyAccount_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="TrusteeRemuneration_Fee_#Id#" ActionDisplayName="信托机构报酬" FunctionName="RunManagedMethodByPath" SequenceNo="6">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrusteeRemuneration_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrusteeRemuneration_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="TaxAccount_Fee_#Id#" ActionDisplayName="其他税务" FunctionName="RunManagedMethodByPath" SequenceNo="7">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxAccount_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxAccount_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="InitialRating_Fee_#Id#" ActionDisplayName="初始评级费" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRating_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRating_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="UnderWriting_Fee_#Id#" ActionDisplayName="承销费" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_UnderWriting_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="UnderWriting_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Lawyer_Fee_#Id#" ActionDisplayName="律师费" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Lawyer_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Lawyer_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="InitialRegistration_Fee_#Id#" ActionDisplayName="初始发行登记费" FunctionName="RunManagedMethodByPath" SequenceNo="11">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_InitialRegistration_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InitialRegistration_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="LegalService_Fee_#Id#" ActionDisplayName="法律服务费" FunctionName="RunManagedMethodByPath" SequenceNo="12">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_LegalService_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="LegalService_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Accounting_Fee_#Id#" ActionDisplayName="会计费" FunctionName="RunManagedMethodByPath" SequenceNo="13">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Accounting_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Accounting_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="TaxConsultant_Fee_#Id#" ActionDisplayName="税务顾问费" FunctionName="RunManagedMethodByPath" SequenceNo="14">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TaxConsultant_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TaxConsultant_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="BusinessTaxeAndAdditional_Fee_#Id#" ActionDisplayName="营业税金及附加" FunctionName="RunManagedMethodByPath" SequenceNo="15">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_BusinessTaxeAndAdditional_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="BusinessTaxeAndAdditional_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="TransferFund_Fee_#Id#" ActionDisplayName="划款手续费" FunctionName="RunManagedMethodByPath" SequenceNo="16">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TransferFund_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TransferFund_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Audit_Fee_#Id#" ActionDisplayName="审计费" FunctionName="RunManagedMethodByPath" SequenceNo="17">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Audit_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Audit_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="TrackingRating_Fee_#Id#" ActionDisplayName="跟踪评级费" FunctionName="RunManagedMethodByPath" SequenceNo="18">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrackingRating_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrackingRating_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Other_Fee_#Id#" ActionDisplayName="其他费用" FunctionName="RunManagedMethodByPath" SequenceNo="19">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Other_Fee_#Id#" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Other_Fee_#Id#" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Fee_Paid" ActionDisplayName="费用小计" FunctionName="RunManagedMethodByPath" SequenceNo="20">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Fee_Paid" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Fee_Paid" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
   <Action ActionCode="FeePayment" ActionDisplayName="计算费用偿付金额" FunctionName="RunManagedMethodByPath" SequenceNo="21">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_FeePayment" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="FeePayment" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
</Actions>
    <Methods>
<main>
    <Parameters>
    </Parameters>
    <Query name="EC_FeePayment">
     var feeSequence = (string)sContextArray["FeePaymentSequence"][CurrentPosition.ToString()];
     var feeList = Regex.Replace(feeSequence, @" ", "").Split(new string[]{";"}, StringSplitOptions.RemoveEmptyEntries).ToArray();
     for (var i = 0; i &lt; feeList.Length; i++)
           {    
     var fee = feeList[i].Split(new string[]{","},StringSplitOptions.RemoveEmptyEntries).ToArray();
         if (fee.Length &gt;= 1)
             {
               var feeName = fee[1];
                    // to do
             if(fee[2] == "false")
			 {
	  var feePaid=Math.Min(cashflows[feeName][CurrentPosition],cashflows["TrustPlanAccount_Summary"][CurrentPosition]);
      cashflows[feeName][CurrentPosition]=feePaid;
      cashflows["Fee_Paid"][CurrentPosition]=cashflows["Fee_Paid"][CurrentPosition]+feePaid;
      cashflows["TrustPlanAccount_Summary"][CurrentPosition]=cashflows["TrustPlanAccount_Summary"][CurrentPosition]-feePaid;
      cashflows["TrustPlanAccount_Interest_Summary"][CurrentPosition]=cashflows["TrustPlanAccount_Interest_Summary"][CurrentPosition]-feePaid;
      cashflows["TrustPlanAccount_Principal_Summary"][CurrentPosition]=cashflows["TrustPlanAccount_Summary"][CurrentPosition]-Math.Max(cashflows["TrustPlanAccount_Interest_Summary"][CurrentPosition],0);
			 }
           }
      }
    return 0;
</Query> <Presentation />
  </main>
		  <main>
	 <Parameters>
	  </Parameters>
    <Query name="EC_Fee_Paid">
	    return 0;
    </Query> <Presentation />
  </main>
<main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Other_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Other_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Other_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_Other_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("Other_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Other_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["Other_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
		    <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrackingRating_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrackingRating_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrackingRating_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TrackingRating_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("TrackingRating_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrackingRating_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["TrackingRating_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
		      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Audit_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Audit_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Audit_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_Audit_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("Audit_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Audit_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["Audit_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
		  <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TransferFund_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TransferFund_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TransferFund_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TransferFund_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("TransferFund_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TransferFund_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["TransferFund_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="BusinessTaxeAndAdditional_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="BusinessTaxeAndAdditional_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_BusinessTaxeAndAdditional_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["BusinessTaxeAndAdditional_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["BusinessTaxeAndAdditional_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxConsultant_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxConsultant_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxConsultant_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TaxConsultant_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("TaxConsultant_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TaxConsultant_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["TaxConsultant_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Accounting_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Accounting_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Accounting_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_Accounting_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("Accounting_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Accounting_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["Accounting_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="LegalService_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="LegalService_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="LegalService_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_LegalService_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("LegalService_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["LegalService_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["LegalService_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	      <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRegistration_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRegistration_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRegistration_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_InitialRegistration_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("InitialRegistration_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["InitialRegistration_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["InitialRegistration_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Lawyer_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Lawyer_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Lawyer_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_Lawyer_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("Lawyer_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Lawyer_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["Lawyer_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="UnderWriting_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="UnderWriting_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="UnderWriting_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_UnderWriting_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("UnderWriting_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["UnderWriting_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["UnderWriting_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
    <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRating_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRating_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="InitialRating_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_InitialRating_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("InitialRating_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["InitialRating_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["InitialRating_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
        <Parameters>
         <Parameter Name="Fee_Value" SessionParameterName="" SessionParameterDisplayName="当期发生额" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxAccount_Fee_Value_#Id#">
         <Position>CurrentPosition</Position>
         </Field> </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxAccount_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TaxAccount_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TaxAccount_Fee_#Id#" MethodDisplayName="按固定值">
     ToBePaid=sContextArray.Keys.Contains("TaxAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TaxAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	   if(ToBePaid==1)
	 {
	     Fee_Value=double.Parse(sContextArray["TaxAccount_Fee_Value_#Id#"][CurrentPosition.ToString()]);
		return Fee_Value;
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
    <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field> 
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_CalculatedDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="全年天数" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_AnnualDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeRemuneration_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TrusteeRemuneration_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/全年天数">
      ToBePaid=sContextArray.Keys.Contains("TrusteeRemuneration_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrusteeRemuneration_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	    if(ToBePaid==1)
	 {
	     Fee_Ratio=double.Parse(sContextArray["TrusteeRemuneration_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
		 Fee_Base=double.Parse(sContextArray["TrusteeRemuneration_Fee_Base_#Id#"][CurrentPosition.ToString()]);
		 Fee_CalculatedDays=double.Parse(sContextArray[TrusteeRemuneration_Fee_CalculatedDays_#Id#][CurrentPosition.ToString()]);
         Fee_AnnualDays=double.Parse(sContextArray["TrusteeRemuneration_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
		 return Math.Round(Fee_Ratio*Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
		 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	    <main>
         <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_CalculatedDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="全年天数" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_AnnualDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ScrutinyAccount_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_ScrutinyAccount_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/全年天数">
      ToBePaid=sContextArray.Keys.Contains("ScrutinyAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["ScrutinyAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	    if(ToBePaid==1)
	 {
	     Fee_Ratio=double.Parse(sContextArray["ScrutinyAccount_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
		 Fee_Base=double.Parse(sContextArray["ScrutinyAccount_Fee_Base_#Id#"][CurrentPosition.ToString()]);
		 Fee_CalculatedDays=double.Parse(sContextArray[ScrutinyAccount_Fee_CalculatedDays_#Id#][CurrentPosition.ToString()]);
         Fee_AnnualDays=double.Parse(sContextArray["ScrutinyAccount_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
		 return Math.Round(Fee_Ratio*Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
		 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
     <main>
    <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_CalculatedDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="全年天数" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_AnnualDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="TrusteeAccount_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_TrusteeAccount_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/全年天数">
      ToBePaid=sContextArray.Keys.Contains("TrusteeAccount_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["TrusteeAccount_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	    if(ToBePaid==1)
	 {
	     Fee_Ratio=double.Parse(sContextArray["TrusteeAccount_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
		 Fee_Base=double.Parse(sContextArray["TrusteeAccount_Fee_Base_#Id#"][CurrentPosition.ToString()]);
		 Fee_CalculatedDays=double.Parse(sContextArray[TrusteeAccount_Fee_CalculatedDays_#Id#][CurrentPosition.ToString()]);
         Fee_AnnualDays=double.Parse(sContextArray["TrusteeAccount_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
		 return Math.Round(Fee_Ratio*Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
		 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
    <main>
    <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_CalculatedDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="全年天数" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_AnnualDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="Custodian_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_Custodian_Fee_#Id#" MethodDisplayName="计费基准*费率*计费期间/全年天数">
      ToBePaid=sContextArray.Keys.Contains("Custodian_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["Custodian_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	    if(ToBePaid==1)
	 {
	     Fee_Ratio=double.Parse(sContextArray["Custodian_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
		 Fee_Base=double.Parse(sContextArray["Custodian_Fee_Base_#Id#"][CurrentPosition.ToString()]);
		 Fee_CalculatedDays=double.Parse(sContextArray[Custodian_Fee_CalculatedDays_#Id#][CurrentPosition.ToString()]);
         Fee_AnnualDays=double.Parse(sContextArray["Custodian_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
		 return Math.Round(Fee_Ratio*Fee_Base*Fee_CalculatedDays/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
		 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
	 <main>
    <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="费率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计费基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_CalculatedDays" SessionParameterName="" SessionParameterDisplayName="计费期间" ParameterInputType="select" DataSourceName="PeriodBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_CalculatedDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_AnnualDays" SessionParameterName="" SessionParameterDisplayName="全年天数" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_AnnualDays_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_Percent" SessionParameterName="" SessionParameterDisplayName="支付比例" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_Percent_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
        </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="AssetService_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
	<Query name="EC_AssetService_Fee_#Id#" MethodDisplayName="费率*计费基准*计费期间*支付比例/全年天数">
      ToBePaid=sContextArray.Keys.Contains("AssetService_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["AssetService_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	    if(ToBePaid==1)
	 {
	     Fee_Ratio=double.Parse(sContextArray["AssetService_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
		 Fee_Base=double.Parse(sContextArray["AssetService_Fee_Base_#Id#"][CurrentPosition.ToString()]);
		 Fee_CalculatedDays=double.Parse(sContextArray[AssetService_Fee_CalculatedDays_#Id#][CurrentPosition.ToString()]);
         Fee_AnnualDays=double.Parse(sContextArray["AssetService_Fee_AnnualDays_#Id#"][CurrentPosition.ToString()]);
         Fee_Percent=double.Parse(sContextArray["AssetService_Fee_Percent_#Id#"][CurrentPosition.ToString()]);
		 return Math.Round(Fee_Ratio*Fee_Base*Fee_CalculatedDays*Fee_Percent/Fee_AnnualDays , 2,MidpointRounding.AwayFromZero);
		 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
    <main>
    <Parameters>
         <Parameter Name="Fee_Ratio" SessionParameterName="" SessionParameterDisplayName="税率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ValueAddedTax_Fee_Ratio_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="Fee_Ratio_Add" SessionParameterName="" SessionParameterDisplayName="附加率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ValueAddedTax_Fee_Ratio_Add_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="Fee_Base" SessionParameterName="" SessionParameterDisplayName="计税基准" ParameterInputType="select" DataSourceName="FeeBase" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ValueAddedTax_Fee_Base_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
		 <Parameter Name="PayFrequence" SessionParameterName="" SessionParameterDisplayName="支付频率" ParameterInputType="" DataSourceName="" IsUIRequired="true" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ValueAddedTax_Fee_PayFrequence_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>
         <Parameter Name="ToBePaid" SessionParameterName="" SessionParameterDisplayName="当期是否支付" ParameterInputType="" DataSourceName="" IsUIRequired="false" Value="" DataType="double" Usage="CashFlow">
         <Field Name="ValueAddedTax_Fee_ToBePaid_#Id#">
         <Position>CurrentPosition</Position>
         </Field>
         </Parameter>	
    </Parameters>
    <Query name="EC_ValueAddedTax_Fee_#Id#" MethodDisplayName="税率*计税基准*（1+附加率）/（1+税率）">
         ToBePaid=sContextArray.Keys.Contains("ValueAddedTax_Fee_ToBePaid_#Id#") ?double.Parse(sContextArray["ValueAddedTax_Fee_ToBePaid_#Id#"][CurrentPosition.ToString()]) : 0;
	     if(ToBePaid==1)
	  {
	    Fee_Ratio=double.Parse(sContextArray["ValueAddedTax_Fee_Ratio_#Id#"][CurrentPosition.ToString()]);
        Fee_Ratio_Add=double.Parse(sContextArray["ValueAddedTax_Fee_Ratio_Add_#Id#"][CurrentPosition.ToString()]);
		Fee_Base=double.Parse(sContextArray["ValueAddedTax_Fee_Base_#Id#"][CurrentPosition.ToString()]);

		return Math.Round(Fee_Base*Fee_Ratio*(1+Fee_Ratio_Add)/(1+Fee_Ratio) , 2,MidpointRounding.AwayFromZero);
	 }
	 else
	 {
	      return 0;
	 }
    </Query> <Presentation />
  </main>
    </Methods>
    	<DataSources>
	<DataSource Name="FeeBase">
	<Option Title="期初总剩余本金" Value="TotalBalance" />
	<Option Title="期初优先级总剩余本金" Value="PriorityTotalBalance"></Option>
	<Option Title="专项计划总募集资金" Value="Collection"></Option>
	<Option Title="当期利息收入" Value="CurrentInterest"></Option>
	</DataSource>
	<DataSource Name="PeriodBase">
	<Option Title="收款期间" Value="CollectionPeriod" />
	<Option Title="兑付期间" Value="PaymentPeriod" />
	</DataSource>
	</DataSources>
</Tool>