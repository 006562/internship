<Tool Name="CashFlowAccountBalanceModel">
  <Actions>
   <Action ActionCode="DefaultCurve" ActionDisplayName="资产违约率曲线" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="DefaultCurve" DataType="String" Usage="" IsConfigurable="false"/>
   </Action>
      <Action ActionCode="PrepaymentCurve" ActionDisplayName="资产早偿率曲线" FunctionName="RunManagedMethodByPath" SequenceNo="11">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="PrepaymentCurve" DataType="String" Usage="" IsConfigurable="false"/>
    </Action>
     <Action ActionCode="CollectionDays" ActionDisplayName="收款期间天数" FunctionName="RunManagedMethodByPath" SequenceNo="12">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />                                                                                                                                                                                                                                                                  sConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CollectionDays" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
   <Action ActionCode="InterestDays" ActionDisplayName="计息期间天数" FunctionName="RunManagedMethodByPath" SequenceNo="12">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />                                                                                                                                                                                                                                                                  sConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InterestDays" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
		 <Action ActionCode="TrustPlanAccount_AssetPoolBalance" ActionDisplayName="期初资产池未偿本金总额" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_AssetPoolBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_AssetPoolBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
		<Action ActionCode="TrustPlanAccount_FirstClassOpeningBalance" ActionDisplayName="期初优先级未偿本金总额" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_FirstClassOpeningBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_FirstClassOpeningBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	  <Action ActionCode="TrustPlanAccount_TotalBondOpeningBalance" ActionDisplayName="期初证券未偿本金总额" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_TotalBondOpeningBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_TotalBondOpeningBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
     <Action ActionCode="TrustAccount_OpeningBalance_Input" ActionDisplayName="信托账户上期转存" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustAccount_OpeningBalance_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="PrincipalAccount_OpeningBalance_Input" ActionDisplayName="本金分账户上期转存" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="PrincipalAccount_OpeningBalance_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="InterestAccount_OpeningBalance_Input" ActionDisplayName="收入分账户上期转存" FunctionName="RunManagedMethodByPath" SequenceNo="11">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="InterestAccount_OpeningBalance_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TrustPlanAccount_OpeningBalance" ActionDisplayName="信托账户期初余额" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_OpeningBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_OpeningBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrustPlanAccount_Principal_OpeningBalance" ActionDisplayName="本金账户期初余额" FunctionName="RunManagedMethodByPath" SequenceNo="6">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Principal_OpeningBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Principal_OpeningBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrustPlanAccount_Interest_OpeningBalance" ActionDisplayName="收入账户期初余额" FunctionName="RunManagedMethodByPath" SequenceNo="7">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Interest_OpeningBalance" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Interest_OpeningBalance" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	  <Action ActionCode="TrustPlanAccount_Interest_Collected" ActionDisplayName="当期利息回收款" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Interest_Collected" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="Pool_Interest_Collection_Adjusted" ActionDisplayName="调整后利息回收款" FunctionName="RunManagedMethodByPath" SequenceNo="23">
     <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
     <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
     <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
     <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
     <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
     <Parameter Name="MethodName" SessionParameterName="" Value="EC_Pool_Interest_Collection_Adjusted" DataType="String" Usage="Task" IsConfigurable="false"/>
     <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
     <Parameter Name="CashFlowName" SessionParameterName="" Value="Pool_Interest_Collection_Adjusted" DataType="String" Usage="" IsConfigurable="false"/>
     </Action>
    <Action ActionCode="TrustPlanAccount_Principal_Collected" ActionDisplayName="当期本金回收款" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Principal_Collected" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="Pool_Principal_Collection_Adjusted" ActionDisplayName="调整后本金回收款" FunctionName="RunManagedMethodByPath" SequenceNo="20">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false"/>
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Pool_Principal_Collection_Adjusted" DataType="String" Usage="Task" IsConfigurable="false"/>
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false"/>
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Pool_Principal_Collection_Adjusted" DataType="String" Usage="" IsConfigurable="false"/>
      </Action>
	<Action ActionCode="RedeemUnqualifiedAssets_ToInterest_Input" ActionDisplayName="资产赎回(计入利息)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="RedeemUnqualifiedAssets_ToInterest_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="RedeemUnqualifiedAssets_ToPrincipal_Input" ActionDisplayName="资产赎回(计入本金)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="RedeemUnqualifiedAssets_ToPrincipal_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="AssetBuyBack_ToInterest_Input" ActionDisplayName="清仓回购(计入利息)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetBuyBack_ToInterest_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="AssetBuyBack_ToPrincipal_Input" ActionDisplayName="清仓回购(计入本金)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="AssetBuyBack_ToPrincipal_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TopUpDifference_ToInterest_Input" ActionDisplayName="循环购买差额(计入利息)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TopUpDifference_ToInterest_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TopUpDifference_ToPrincipal_Input" ActionDisplayName="循环购买差额(计入本金)" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TopUpDifference_ToPrincipal_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TrustPlanAccount_Investment_Collected" ActionDisplayName="合格投资(计入利息)" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Investment_Collected" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TrustPlanAccount_Reserve_Rotation" ActionDisplayName="储备金回拨(计入本金)" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Reserve_Rotation" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Reserve_Rotation" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="OtherIncome_ToInterest_Input" ActionDisplayName="其他收入(计入利息)" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="OtherIncome_ToInterest_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="OtherIncome_ToPrincipal_Input" ActionDisplayName="其他收入(计入本金)" FunctionName="RunManagedMethodByPath" SequenceNo="10">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="OtherIncome_ToPrincipal_Input" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrustPlanAccount_Total_Collected" ActionDisplayName="当期信托账户总收入" FunctionName="RunManagedMethodByPath" SequenceNo="11">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Total_Collected" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	<Action ActionCode="TrustPlanAccount_Interest_AvailableAmt" ActionDisplayName="收入账户核算汇总" FunctionName="RunManagedMethodByPath" SequenceNo="7">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Interest_AvailableAmt" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Interest_AvailableAmt" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
    <Action ActionCode="TrustPlanAccount_Principal_AvailableAmt" ActionDisplayName="本金账户核算汇总" FunctionName="RunManagedMethodByPath" SequenceNo="6">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Principal_AvailableAmt" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Principal_AvailableAmt" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	  <Action ActionCode="TrustPlanAccount_Total_AvailableAmt" ActionDisplayName="信托账户核算汇总" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_Total_AvailableAmt" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_Total_AvailableAmt" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
		 <Action ActionCode="TrustPlanAccount_ReGetFeeBaseAmount" ActionDisplayName="重置当期计费基准" FunctionName="RunManagedMethodByPath" SequenceNo="8">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_TrustPlanAccount_ReGetFeeBaseAmount" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="TrustPlanAccount_ReGetFeeBaseAmount" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
      <Action ActionCode="PreviousAssetDefault_Input" ActionDisplayName="往期资产违约额_Input" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="PreviousAssetDefault_Input" DataType="String" Usage="" IsConfigurable="false" />
     </Action>
	 <Action ActionCode="PreviousAssetDefault" ActionDisplayName="往期资产违约额" FunctionName="RunManagedMethodByPath" SequenceNo="28">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_PreviousAssetDefault" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="PreviousAssetDefault" DataType="String" Usage="" IsConfigurable="false" />
    </Action>
	 <Action ActionCode="CurrentAssetDefault_Input" ActionDisplayName="当期资产违约额" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="CurrentAssetDefault_Input" DataType="String" Usage="" IsConfigurable="false" />
     </Action>
     <Action ActionCode="Previous_Supplement_Input" ActionDisplayName="往期本金账补足收入账_Input" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Previous_Supplement_Input" DataType="String" Usage="" IsConfigurable="false" />
     </Action>
	 <Action ActionCode="Previous_Supplement" ActionDisplayName="往期本金账补足收入账" FunctionName="RunManagedMethodByPath" SequenceNo="28">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Previous_Supplement" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Previous_Supplement" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
	 <Action ActionCode="Previous_Carryover_Input" ActionDisplayName="往期收入账回补本金账_Input" FunctionName="RunManagedMethodByPath" SequenceNo="9">
      <Parameter Name="IsDirectInput" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="false" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" IsDirectInput="true" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Previous_Carryover_Input" DataType="String" Usage="" IsConfigurable="false" />
     </Action>
	  <Action ActionCode="Previous_Carryover" ActionDisplayName="往期收入账回补本金账" FunctionName="RunManagedMethodByPath" SequenceNo="28">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Previous_Carryover" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Previous_Carryover" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
	   <Action ActionCode="Cumulate_Carryover" ActionDisplayName="当期收入账应回补本金账" FunctionName="RunManagedMethodByPath" SequenceNo="28">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" IsConfigurable="false" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="TypeName" SessionParameterName="" Value="EquationProvider.CashFlowEquationProvider" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="MethodName" SessionParameterName="" Value="EC_Cumulate_Carryover" DataType="String" Usage="Task" IsConfigurable="false" />
      <Parameter Name="CurrentPosition" SessionParameterName="CurrentPosition" Value="0" DataType="Int16" Usage="" IsConfigurable="false" />
      <Parameter Name="CashFlowName" SessionParameterName="" Value="Cumulate_Carryover" DataType="String" Usage="" IsConfigurable="false" />
      </Action>
      <Action ActionCode="Cumulate_Supplement" ActionDisplayName="当期本金账需补足收入账" FunctionName="RunManagedMethodByPath" SequenceNo="28">
      <Parameter Name="IsCashFlowDisplay" SessionParameterName="" Value="true" DataType="String" Usage="CashFlow" />
      <Parameter Name="InputType" SessionParameterName="" Value="Calculated" DataType="String" Usage="CashFlow" />
      <Parameter Name="ActionType" SessionParameterName="" Value="CashFlow" DataType="String" Usage="CashFlow" />
      <Parameter Name="AssemblyPath" SessionParameterName="" Value="" DataType="String" Usage="Task" />
      <Parameter Name="TypeName" SessionParameterName="" Value="AddIn.CashflowScript.GenericBondWaterfallPlus" DataType="String" Usage="Task" />
      <Parameter Name="MethodName" SessionParameterName="" Value="CreateCashFlow" DataType="String" Usage="Task" />
      <Parameter Usage="" DataType="Int16" Value="0" SessionParameterName="CurrentPosition" Name="CurrentPosition" />
      <Parameter Usage="" DataType="String" Value="Cumulate_Supplement" SessionParameterName="" Name="CashFlowName" />
      </Action>
   </Actions>
  <Methods>
   <main>
      <Parameters>
		<Parameter Name="InitialAmount" SessionParameterName="InitialInvestedAmount_AssetPool" Value="" DataType="double" Usage="CashFlow" />
		<Parameter Name="PreClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_AssetPoolClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_AssetPoolBalance">
	    //相应的计算公式可能需要修改
		double PoolBalance=double.Parse(sContextArray["TrustPlanAccount_AssetPoolBalance"][CurrentPosition.ToString()]);
		if(PoolBalance==0)
		{
            if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
             return PreClosingBalance;
              }
			  }
		else
		{
		return PoolBalance;
		}
      </Query>
	  </main>
	   <main>
      <Parameters>
		<Parameter Name="InitialAmount" SessionParameterName="InitialInvestedAmount_FirstClass" Value="" DataType="double" Usage="CashFlow" />
		<Parameter Name="PreClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_FirstClassClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_FirstClassOpeningBalance">
	    //相应的计算公式可能需要修改
       if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
             return PreClosingBalance;
              }
      </Query>
	  </main>
   <main>
      <Parameters>
		<Parameter Name="InitialAmount" SessionParameterName="InitialInvestedAmount_TotalBond" Value="" DataType="double" Usage="CashFlow" />
		<Parameter Name="PreClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_TotalBondClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_TotalBondOpeningBalance">
	    //相应的计算公式可能需要修改
       if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
             return PreClosingBalance;
              }
      </Query>
	  </main>
   <main>
      <Parameters>
	  <Parameter Name="InitialAmount" SessionParameterName="TrustPlanAccount_Reserve_Rotation" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_TrustPlanAccount_Reserve_Rotation">  
	//相应的计算公式可能需要修改 
    double PreReserve=0;
    double  Reserve_Value=double.Parse(sContextArray["TrustPlanAccount_Reserve_Rotation"][CurrentPosition.ToString()]);
         if (Reserve_Value==0)
         {
              if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
                 foreach( String CashflowName in cashflows.Keys )
              {
		         if(CashflowName.Contains("TrustPlanAccount_Reserve" ) &amp;&amp; CashflowName.Contains("_Paid"))
		          PreReserve+=cashflows[CashflowName][CurrentPosition-1] ;
		        } 
		          return PreReserve;
              }
			  
        }
        else
        {
            return Reserve_Value;  
        }
      </Query>
      <Presentation />
    </main>
   <main>
		<Parameters>
			<Parameter Name="TrustPlanAccount_Interest_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="TrustPlanAccount_Interest_Collected">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
			<Parameter Name="DefaultCurve" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="DefaultCurve">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
			<Parameter Name="PrepaymentCurve" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="PrepaymentCurve">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
		</Parameters>
		<Query name="EC_Pool_Interest_Collection_Adjusted">
		return TrustPlanAccount_Interest_Collected * (1 - DefaultCurve) * (1 - PrepaymentCurve);
		</Query>
		<Presentation/>
	</main>
   <main>
		<Parameters>
			<Parameter Name="DefaultCurve" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="DefaultCurve">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
			<Parameter Name="PrepaymentCurve" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="PrepaymentCurve">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
			<Parameter Name="TrustPlanAccount_Principal_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow" >
				<Field Name="TrustPlanAccount_Principal_Collected">
					<Position>CurrentPosition</Position>
				</Field>
			</Parameter>
		</Parameters>
		<Query name="EC_Pool_Principal_Collection_Adjusted">
		return TrustPlanAccount_Principal_Collected * (1 - DefaultCurve) * (1 - PrepaymentCurve);
		 </Query>
		<Presentation/>
	</main>
	        <main>
      <Parameters>
        <Parameter Name="PreviousAssetDefault" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="PreviousAssetDefault">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
	   <Parameter Name="CurrentAssetDefault_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CurrentAssetDefault_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Previous_Supplement" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Supplement">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Previous_Carryover" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Carryover">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_Cumulate_Carryover">  
	 return Math.Max(PreviousAssetDefault+CurrentAssetDefault_Input+Previous_Supplement-Previous_Carryover,0);  
      </Query>
      <Presentation />
    </main>
	      <main>
      <Parameters>
        <Parameter Name="Previous_Carryover_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Carryover_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_Previous_Carryover" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Carryover">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_Cumulate_Carryover_Paid" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Cumulate_Carryover_Paid">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="InitialAmount" SessionParameterName="Previous_Carryover_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_Previous_Carryover">  
	   if (Previous_Carryover_Input==0)
        {
            if (CurrentPosition==0)
             {
               return InitialAmount;
             }
             else
            {
             return Pre_Previous_Carryover+Pre_Cumulate_Carryover_Paid;
             }       
        }
        else
        {
        return Previous_Carryover_Input;
        }
      </Query>
      <Presentation />
    </main>
	     <main>
      <Parameters>
        <Parameter Name="Previous_Supplement_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Supplement_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_Previous_Supplement" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Previous_Supplement">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_Cumulate_Supplement_Paid" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Cumulate_Supplement_Paid">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="InitialAmount" SessionParameterName="Previous_Supplement_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_Previous_Supplement">  
	   if (Previous_Supplement_Input==0)
        {
            if (CurrentPosition==0)
             {
               return InitialAmount;
             }
             else
            {
             return Pre_Previous_Supplement+Pre_Cumulate_Supplement_Paid;
             }       
        }
        else
        {
        return Previous_Supplement_Input;
        }
      </Query>
      <Presentation />
    </main>
        <main>
      <Parameters>
        <Parameter Name="PreviousAssetDefault_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="PreviousAssetDefault_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_PreviousAssetDefault" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="PreviousAssetDefault">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="Pre_CurrentAssetDefault_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="CurrentAssetDefault_Input">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="InitialAmount" SessionParameterName="PreviousAssetDefault_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_PreviousAssetDefault">
	     //相应的计算公式可能需要修改
	      if (PreviousAssetDefault_Input==0)
        {
            if (CurrentPosition==0)
             {
               return InitialAmount;
             }
             else
            {
             return Pre_PreviousAssetDefault+Pre_CurrentAssetDefault_Input;
             }       
        }
        else
        {
        return PreviousAssetDefault_Input;
        }
      </Query>
      <Presentation />
    </main>
  <main>
      <Parameters>
        <Parameter Name="Pre_TrustPlanAccount_ClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_ClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="TrustAccount_OpeningBalance_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustAccount_OpeningBalance_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="PrincipalAccount_OpeningBalance_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="PrincipalAccount_OpeningBalance_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="InterestAccount_OpeningBalance_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InterestAccount_OpeningBalance_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="InitialAmount" SessionParameterName="TrustPlanAccount_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_TrustPlanAccount_OpeningBalance">
	     //相关的计算公式可能需要调整
	     if (TrustAccount_OpeningBalance_Input+PrincipalAccount_OpeningBalance_Input+InterestAccount_OpeningBalance_Input==0)
        {
              if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
              return Pre_TrustPlanAccount_ClosingBalance;
              }
        }
        else
        {
                if (TrustAccount_OpeningBalance_Input== 0)
               {
               return PrincipalAccount_OpeningBalance_Input+InterestAccount_OpeningBalance_Input;
               }
              else
               {
               return TrustAccount_OpeningBalance_Input;
               }
        }
      </Query>
      <Presentation />
    </main>
	 <main>
      <Parameters>
        <Parameter Name="Pre_TrustPlanAccount_Principal_ClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Principal_ClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="PrincipalAccount_OpeningBalance_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="PrincipalAccount_OpeningBalance_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		 <Parameter Name="InitialAmount" SessionParameterName="TrustPlanAccount_Principal_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_TrustPlanAccount_Principal_OpeningBalance">
	    //相应的计算公式可能需要修改
         if (PrincipalAccount_OpeningBalance_Input==0)
        {
              if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
               return Pre_TrustPlanAccount_Principal_ClosingBalance;
              }
        }
        else
        {
            return PrincipalAccount_OpeningBalance_Input;    
        }
      </Query>
      <Presentation />
    </main>
	<main>
      <Parameters>
        <Parameter Name="Pre_TrustPlanAccount_Interest_ClosingBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Interest_ClosingBalance">
            <Position>Math.Max(CurrentPosition-1,0)</Position>
          </Field>
        </Parameter>
		<Parameter Name="InterestAccount_OpeningBalance_Input" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="InterestAccount_OpeningBalance_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="InitialAmount" SessionParameterName="TrustPlanAccount_Interest_InitialAmount" Value="" DataType="double" Usage="CashFlow" />
      </Parameters>
      <Query name="EC_TrustPlanAccount_Interest_OpeningBalance">
	   //相应的计算公式可能需要修改
	     if (InterestAccount_OpeningBalance_Input==0)
        {
              if (CurrentPosition == 0)
              {
               return InitialAmount;
              }
              else
              {
               return Pre_TrustPlanAccount_Interest_ClosingBalance;
              }
        }
        else
        {
            return InterestAccount_OpeningBalance_Input;    
        }
      </Query>
      <Presentation />
    </main>
	<main>
      <Parameters>
        <Parameter Name="OpeningBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_OpeningBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Principal_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Principal_Collected">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Interest_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Pool_Interest_Collection_Adjusted">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Investment_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Pool_Principal_Collection_Adjusted">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Total_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Total_Collected">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="IRedeemUnqualifiedAssets" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="RedeemUnqualifiedAssets_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="PRedeemUnqualifiedAssets" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="RedeemUnqualifiedAssets_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Reserve_Rotation" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Reserve_Rotation">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="IAssetBuyBack" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetBuyBack_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="IOtherIncome" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="OtherIncome_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="PAssetBuyBack" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetBuyBack_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="POtherIncome" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="OtherIncome_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="ITopUpDifference" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TopUpDifference_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="PTopUpDifference" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TopUpDifference_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_Total_AvailableAmt">
        if (Total_Collected== 0)
        {
        return PTopUpDifference+ITopUpDifference+POtherIncome+PAssetBuyBack+IOtherIncome+IAssetBuyBack+Principal_Collected + Interest_Collected + Reserve_Rotation +Investment_Collected+OpeningBalance+IRedeemUnqualifiedAssets+PRedeemUnqualifiedAssets;
        }
        else
        {
        return Total_Collected+OpeningBalance;
        }
      </Query>
      <Presentation />
    </main>
	 <main>
      <Parameters>
        <Parameter Name="OpeningBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Principal_OpeningBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Principal_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Pool_Principal_Collection_Adjusted">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="RedeemUnqualifiedAssets" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="RedeemUnqualifiedAssets_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Reserve_Rotation" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Reserve_Rotation">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="AssetBuyBack" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetBuyBack_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="OtherIncome" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="OtherIncome_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="TopUpDifference" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TopUpDifference_ToPrincipal_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_Principal_AvailableAmt">
        return Principal_Collected + OpeningBalance+RedeemUnqualifiedAssets+Reserve_Rotation+AssetBuyBack+OtherIncome+TopUpDifference;
      </Query>
      <Presentation/>
    </main>
	   <main>
      <Parameters>
        <Parameter Name="OpeningBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Interest_OpeningBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Interest_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Pool_Interest_Collection_Adjusted">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="Investment_Collected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_Investment_Collected">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="RedeemUnqualifiedAssets" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="RedeemUnqualifiedAssets_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="AssetBuyBack" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="AssetBuyBack_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
			<Parameter Name="OtherIncome" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="OtherIncome_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="TopUpDifference" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TopUpDifference_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_Interest_AvailableAmt">
        return TopUpDifference+Interest_Collected +Investment_Collected+ OpeningBalance+RedeemUnqualifiedAssets+AssetBuyBack+OtherIncome;
      </Query>
      <Presentation />
    </main>
		<main>
      <Parameters>
	    <Parameter Name="EstablishmentDatePool" SessionParameterName="EstablishmentDatePoolBalance" Value="" DataType="double" Usage="CashFlow" />
		<Parameter Name="TotalBond" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_TotalBondOpeningBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="InterestCollected" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="Pool_Interest_Collection_Adjusted">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
			<Parameter Name="AssetPoolBalance" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_AssetPoolBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
			<Parameter Name="IRedeemUnqualifiedAssets" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="RedeemUnqualifiedAssets_ToInterest_Input">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
		<Parameter Name="FirstClassBond" SessionParameterName="" Value="" DataType="double" Usage="CashFlow">
          <Field Name="TrustPlanAccount_FirstClassOpeningBalance">
            <Position>CurrentPosition</Position>
          </Field>
        </Parameter>
      </Parameters>
      <Query name="EC_TrustPlanAccount_ReGetFeeBaseAmount"> 
	  
      double TotalInterest=InterestCollected+IRedeemUnqualifiedAssets;
      sContextArray["BasedOnAssetPoolBalance"][CurrentPosition.ToString()]=AssetPoolBalance.ToString();
      sContextArray["BasedOnTotalInterestCollected"][CurrentPosition.ToString()]=InterestCollected.ToString();
      sContextArray["BasedOnBondBalance"][CurrentPosition.ToString()]=TotalBond.ToString();
      sContextArray["BasedOnFirstClassBalance"][CurrentPosition.ToString()]=FirstClassBond.ToString();
      sContextArray["BasedOnTotalInterestCollectedAndBadAssetsRedeem"][CurrentPosition.ToString()]=TotalInterest.ToString();
	  if(CurrentPosition==0)
	  {
	  sContextArray["BasedOnEstablishDateAssetPool"][CurrentPosition.ToString()]=EstablishmentDatePool.ToString();
	  }
	  else
	  {
	   sContextArray["BasedOnEstablishDateAssetPool"][CurrentPosition.ToString()]=AssetPoolBalance.ToString();
	  }
	    return 0;  
      </Query>
      <Presentation />
    </main>
  </Methods>
</Tool>